!function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(1),o=i(s),u=n(2),l=i(u),c=n(3),d=i(c),g=n(5),h=function(){function e(){r(this,e),g.DOM.getBody().click(this.bodyClickHandler),g.DOM.get("sections-button").click(this.sectionsButtonClickHandler),g.DOM.get("search-button").click(this.searchButtonClickHandler),g.DOM.get("github-button").click(this.githubButtonClickHandler),g.DOM.get("search-go-button").click(this.searchGoButtonClickHandler),g.DOM.get("previous-page-button").click(this.previousPageButtonClickHandler),g.DOM.get("next-page-button").click(this.nextPageButtonClickHandler),g.DOM.get("search-line").click(function(e){e.stopPropagation()}),g.DOM.get("search-line").keypress(this.searchLineKeyPressHandler);var t=!0,n=!1,i=void 0;try{for(var a,s=o["default"].sections[Symbol.iterator]();!(t=(a=s.next()).done);t=!0){var u=a.value,c=g.DOM.create("li").setHTML(u).click(this.sectionsMenuItemClickHandler).getElement();g.DOM.get("sections-menu-items").append(c)}}catch(d){n=!0,i=d}finally{try{!t&&s["return"]&&s["return"]()}finally{if(n)throw i}}g.DOM.get("preloader").show(),l["default"].getTopStories("home",e.updateTopStories)}return a(e,[{key:"searchLineKeyPressHandler",value:function(t){g.DOM.get("search-line").attr("pure","false"),13===t.keyCode&&(g.DOM.get("left-list").hide(),g.DOM.get("right-list").hide(),g.DOM.get("section-name").hide(),g.DOM.get("current-page").setHTML(1),g.DOM.get("previous-page-button").setClass("disabled"),g.DOM.get("preloader").show(),g.DOM.get("search-line").attr("pure","true"),l["default"].searchQuery(g.DOM.get("search-line").getValue(),0,e.updateSearches))}},{key:"bodyClickHandler",value:function(){g.DOM.get("sections-menu").setClass("hide"),g.DOM.get("search-menu").setClass("hide")}},{key:"sectionsButtonClickHandler",value:function(e){"show"===g.DOM.get("search-menu").getClass()?(g.DOM.get("search-menu").setClass("hide"),setTimeout(function(){g.DOM.get("sections-menu").toggle()},500)):g.DOM.get("sections-menu").toggle(),e.stopPropagation()}},{key:"searchButtonClickHandler",value:function(e){"show"===g.DOM.get("sections-menu").getClass()?(g.DOM.get("sections-menu").setClass("hide"),setTimeout(function(){g.DOM.get("search-menu").toggle()},500)):g.DOM.get("search-menu").toggle(),e.stopPropagation()}},{key:"githubButtonClickHandler",value:function(){location.href=o["default"].GitHubReference}},{key:"sectionsMenuItemClickHandler",value:function(t){g.DOM.get("sections-menu").setClass("hide"),g.DOM.get("left-list").hide(),g.DOM.get("right-list").hide(),g.DOM.get("section-name").hide(),g.DOM.get("paging-menu").hide(),g.DOM.get("current-page").setHTML(1),g.DOM.get("previous-page-button").setClass("disabled"),g.DOM.get("preloader").show(),l["default"].getTopStories(g.DOM.getHTML(this),e.updateTopStories),t.stopPropagation()}},{key:"searchGoButtonClickHandler",value:function(t){g.DOM.get("left-list").hide(),g.DOM.get("right-list").hide(),g.DOM.get("section-name").hide(),g.DOM.get("current-page").setHTML(1),g.DOM.get("previous-page-button").setClass("disabled"),g.DOM.get("preloader").show(),g.DOM.get("search-line").attr("pure","true"),l["default"].searchQuery(g.DOM.get("search-line").getValue(),0,e.updateSearches),t.stopPropagation()}},{key:"previousPageButtonClickHandler",value:function(t){if("false"===g.DOM.get("search-line").attr("pure"))g.DOM.get("search-line").attr("pure","true"),g.DOM.get("current-page").setHTML(1),g.DOM.get("previous-page-button").setClass("disabled"),l["default"].searchQuery(g.DOM.get("search-line").getValue(),0,e.updateSearches);else{var n=+g.DOM.get("current-page").getHTML();n-=1,1===n&&g.DOM.get("previous-page-button").setClass("disabled"),g.DOM.get("current-page").setHTML(n),l["default"].searchQuery(g.DOM.get("search-line").getValue(),n-1,e.updateSearches)}g.DOM.get("left-list").hide(),g.DOM.get("right-list").hide(),g.DOM.get("preloader").show(),t.stopPropagation()}},{key:"nextPageButtonClickHandler",value:function(t){if("false"===g.DOM.get("search-line").attr("pure"))g.DOM.get("search-line").attr("pure","true"),g.DOM.get("current-page").setHTML(1),g.DOM.get("previous-page-button").setClass("disabled"),l["default"].searchQuery(g.DOM.get("search-line").getValue(),0,e.updateSearches);else{var n=+g.DOM.get("current-page").getHTML();n+=1,g.DOM.get("previous-page-button").setClass(""),g.DOM.get("current-page").setHTML(n),l["default"].searchQuery(g.DOM.get("search-line").getValue(),n-1,e.updateSearches)}g.DOM.get("left-list").hide(),g.DOM.get("right-list").hide(),g.DOM.get("preloader").show(),t.stopPropagation()}}],[{key:"updateTopStories",value:function(t){g.DOM.get("section-name").clear().setHTML(t.section.charAt(0).toUpperCase()+t.section.slice(1)),e.updateAndShowListsOfNotes(t.results,!1),g.DOM.get("section-name").show()}},{key:"updateSearches",value:function(t){e.updateAndShowListsOfNotes(t.response.docs,!0),g.DOM.get("paging-menu").show()}},{key:"updateAndShowListsOfNotes",value:function(e,t){g.DOM.get("left-list").clear(),g.DOM.get("right-list").clear();for(var n=0;n<e.length;++n)g.DOM.get(n%2===0?"left-list":"right-list").appendHTML(d["default"].createNote(e[n],!0===t?"search":4>n?"main":"list"));g.DOM.get("preloader").hide(),g.DOM.get("left-list").show(),g.DOM.get("right-list").show()}}]),e}();window.onload=function(){new h}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={TopStoriesAPIkey:"b5171c0f6676d74da6cb99f7ccfc6aaa:0:75059933",ArticleSearchAPIkey:"58583ca29e0b5a2916dd5c7bffd4518d:14:75059933",sections:["Home","World","National","Politics","Nyregion","Business","Opinion","Technology","Science","Health","Sports","Arts","Fashion","Dining","Travel","Magazine","Realestate"],GitHubReference:"https://github.com/ZamNick/epam.test.project"}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(1),o=i(s),u=function(){function e(){r(this,e)}return a(e,null,[{key:"getTopStories",value:function(t,n){t=t||"home",t=t.toLowerCase();var i="http://api.nytimes.com/svc/topstories/v1/"+t+".json?api-key="+o["default"].TopStoriesAPIkey,r={method:"GET",mode:"cors"};e.sendRequest(i,r,n)}},{key:"searchQuery",value:function(t,n,i){var r="http://api.nytimes.com/svc/search/v2/articlesearch.json?q="+t+"&page="+n+"&api-key="+o["default"].ArticleSearchAPIkey,a={method:"GET",mode:"cors"};e.sendRequest(r,a,i)}},{key:"sendRequest",value:function(e,t,n){fetch(e,t).then(function(e){if(e.status>=200&&e.status<300)return e;var t=Error(e.statusText);throw t.response=e,t}).then(function(e){return e.json()}).then(function(e){n(e)})["catch"](function(e){})}}]),e}();t["default"]=u},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(4),o=i(s),u=function(){function e(){r(this,e)}return a(e,null,[{key:"createNote",value:function(e,t){if("main"===t)return o["default"].getMainNote(e);if("list"===t)return o["default"].getListNote(e);if("search"===t)return o["default"].getSearchNote(e);throw Error("Unknow type of note.")}}]),e}();t["default"]=u},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(){n(this,e)}return i(e,null,[{key:"getMainNote",value:function(e){var t=""!==e.multimedia?'<div class="main-note-wrapper-image">\n													<img src="'+(""===e.multimedia?"":e.multimedia[3].url)+'">\n												</div>':"",n='<div class="main-note">\n						<h2><a href="'+e.url+'">'+e.title+'</a></h2>\n						<div class="byline">'+e.byline+"</div>\n						"+t+'\n						<div class="credit">'+(""===e.multimedia?"":e.multimedia[3].copyright)+'</div>\n						<div class="abstract">'+e["abstract"]+"</div>\n					</div>";return n}},{key:"getListNote",value:function(e){var t='<div class="list-note">\n						<img src="'+(""===e.multimedia?"":e.multimedia[0].url)+'">\n						<div class="headline">\n							<h3><a href="'+e.url+'">'+e.title+'</a></h3>\n						</div>\n						<div class="byline">'+e.byline+'</div>\n						<div class="abstract">'+e["abstract"]+"</div>\n					</div>";return t}},{key:"getSearchNote",value:function(e){var t=0!==e.multimedia.length?'style="min-height: 150px;">\n						<img src="http://static01.nyt.com/'+e.multimedia[0].url+'" style="height: 130px; width: 190px;">':">",n='<div class="list-note"'+t+'\n						<div class="headline">\n							<h3><a href="'+e.web_url+'">'+e.headline.main+'</a></h3>\n						</div>\n						<div class="byline">'+(null===e.byline?"":e.byline.original)+'</div>\n						<div class="abstract">'+e.snippet+"</div>\n					</div>";return n}}]),e}();t["default"]=r},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){var e=void 0;return{get:function(t){return e=document.getElementById(t),this},getElement:function(){return e},getBody:function(){return e=document.body,this},getValue:function(){return e.value},click:function(t){return e.addEventListener("click",t,!1),this},create:function(t){return e=document.createElement(t),this},clear:function(){for(;e.firstChild;)e.removeChild(e.firstChild);return this},getClass:function(){return e.className},setClass:function(t){return e.className=t,this},setHTML:function(t){return e.innerHTML=t,this},getHTML:function(t){return t=t||e,t.innerHTML},appendHTML:function(t){return e.innerHTML+=t,this},show:function(){return"list-of-notes"===e.className?e.style.display="inline-block":e.style.display="block",this},hide:function(){return e.style.display="none",this},append:function(t){return e.appendChild(t),this},toggle:function(){return"hide"===e.className?e.className="show":e.className="hide",this},attr:function(t,n){return void 0===n?e.getAttribute(t):(e.setAttribute(t,n),this)},keypress:function(t){return e.addEventListener("keypress",t,!1),this}}}();t.DOM=n}]);